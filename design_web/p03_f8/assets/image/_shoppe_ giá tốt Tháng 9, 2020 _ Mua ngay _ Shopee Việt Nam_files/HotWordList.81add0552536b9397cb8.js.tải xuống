(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[88],{2114:function(t,e,r){"use strict";r.d(e,"a",function(){return a}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o});var a=8,n=2,o="popSearch"},2115:function(t,e,r){"use strict";var a=r(0),n=r(60),o=r(24),i=r.n(o),c=r(386),s=r(256),u=r(438),d=r(314),f=r(86),l=r(130),p=r(2116),h=r.n(p);var v=function(t){var e,r;function n(e){var r;return(r=t.call(this,e)||this).onClick=r.onClick.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)),r}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.onClick=function(){var t=this.props,e=t.keyword,r=t.trackingClick,a=t.searchParams,n=t.targetSearchParams,o=t.recordSearchHistory,i=t.index;Object(s.a)({action:"submitKeyboardSearch",data:{keyword:e,inputType:"popular_search",targetSearchParams:n,searchParams:a,isMallSearch:!!this.context.isOfficialShopPath,absoluteLocation:i,relativeLocation:i},track:this.props.contextOnTrack}),o(l.i.PRODUCT,e),r&&r()},o.render=function(){var t=this.props,e=t.trackingRef,r=t.keyword,n=t.targetSearchParams;return a.createElement(c.a,{onClick:this.onClick,to:Object(f.searchWithQuery)(n),className:h.a.keyword,innerRef:e},r)},n}(a.Component);v.contextTypes={isOfficialShopPath:i.a.bool},e.a=Object(n.d)(Object(u.b)("HotwordItem"),Object(d.a)())(v)},2116:function(t,e,r){t.exports={keyword:"_3Q70U3"}},2117:function(t,e,r){t.exports={container:"_22ueCY",list:"_2FqfOu"}},3455:function(t,e,r){"use strict";r.r(e);var a,n,o=r(0),i=r(76),c=r(2115),s=r(25),u=r(258),d=r(9),f=r(1),l=Object(f.b)("FETCH_POP_SEARCH"),p="popsearch_sec";function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}var v={update_time:0,version:"",sections:(a={},a[p]={total:0,data:[]},a)},b=Object(s.a)(((n={})[l.REQUESTED]=function(t){return h({},t,{progress:d.b.REQ,error:0,state_update_time:0})},n[l.SUCCESS]=function(t,e){var r,a=e.payload,n=a.offset,o=a.data,i=a.shouldReset,c=t&&t.data||v;return h({},t,{data:h({},c,{update_time:o.update_time,version:o.version,sections:h({},c.sections,(r={},r[p]={total:o.sections[p].total,data:Object(u.b)(i?[]:c.sections[p].data,o.sections[p].data,n)},r))}),progress:d.b.OK,state_update_time:Date.now()})},n[l.FAILED]=function(t,e){var r=e.payload.error;return h({},t,{progress:d.b.ERR,error:r})},n),{}),m=r(40),y=r(13),k=r(3),O="/api/v4/recommend/recommend";function S(t){var e,r={update_time:t.data.update_time,version:t.data.version,sections:(e={},e[p]={total:0,data:[]},e)},a=t.data.sections.find(function(t){return t&&t.key===p});if(!a||!a.index||!a.data)return r;var n=a.index,o=a.data,i=a.total;return r.sections[p].total=i||0,n.forEach(function(t){var e=o.keyword.find(function(e){return e.key===t.key});e&&r.sections[p].data.push(e)}),r}function _(t){var e=t.limit,r=void 0===e?8:e,a=t.offset,n=void 0===a?0:a,o=t.getStore,i=t.onFinish,c=t.shouldSkipCall,s=t.shouldReset,u=t.version,d=Object(y.d)({bundle:"popsearch",limit:r,offset:n,version:n>0&&u||void 0});return Object(m.a)({apiCall:function(){return function(t){return Object(k.d)(""+O+t)}(d)},actions:[function(){return{type:l.REQUESTED}},function(t,e){return{type:l.SUCCESS,payload:{offset:n,data:S(e),shouldReset:s}}},function(t,e){return{type:l.FAILED,payload:{error:e.error}}}],shouldSkipCall:o&&!c?E(o):c,onFinish:i})}function E(t){return function(e){var r=t(e);return!!(r&&r&&r.state_update_time)&&r.state_update_time>Date.now()-6e4}}var C=[];var j=r(272),w=r(255),g=r(1054),R=r(2114),P=r(2117),x=r.n(P),T=[d.b.INIT,d.b.REQ];function D(t){return t[R.c]}e.default=function(t){var e=t.searchParams,r=o.useContext(w.a).injectAsyncReducer;o.useEffect(function(){var t;r(((t={})[R.c]=b,t))},[r]);var a=Object(i.useDispatch)();o.useEffect(function(){a(_({offset:0,limit:R.a,getStore:D}))},[a]);var n,s=o.useCallback(function(t,e){a(Object(j.b)(t,e))},[a]),u=Object(i.useSelector)(D);if(T.includes((n=u)?n.progress:d.b.INIT))return null;var f=function(t){return t&&t.data?t.data.sections[p].data:C}(u);return!f||f.length<R.b?null:o.createElement("div",{className:x.a.container},o.createElement("div",{className:x.a.list},f.map(function(t,r){var a=t.keyword,n=t.info,i=t.label;if(!a)return null;var u=Object(g.a)(a,e);return o.createElement(c.a,{key:a,keyword:a,recordSearchHistory:s,index:r,searchParams:e,targetSearchParams:u,info:n,intentionid:i})})))}}}]);
//# sourceMappingURL=https://shopee.sg/assets/HotWordList.81add0552536b9397cb8.js.map